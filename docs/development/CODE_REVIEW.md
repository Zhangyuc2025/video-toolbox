# ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç æˆ–è¿›è¡Œ Code Review æ—¶ï¼Œè¯·ä½¿ç”¨æ­¤æ¸…å•ç¡®ä¿ä»£ç è´¨é‡ã€‚

---

## 1. ä»£ç é£æ ¼

### å‘½åè§„èŒƒ
- [ ] æ–‡ä»¶åç¬¦åˆè§„èŒƒï¼ˆç»„ä»¶: PascalCaseï¼Œå…¶ä»–: kebab-caseï¼‰
- [ ] å˜é‡å’Œå‡½æ•°ä½¿ç”¨ camelCase
- [ ] å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE
- [ ] ç±»å‹å’Œæ¥å£ä½¿ç”¨ PascalCase
- [ ] å¸ƒå°”å€¼ä½¿ç”¨ is/has/can å‰ç¼€

### æ ¼å¼åŒ–
- [ ] ä»£ç å·²ä½¿ç”¨ Prettier æ ¼å¼åŒ–
- [ ] é€šè¿‡ ESLint æ£€æŸ¥
- [ ] æ²¡æœ‰å¤šä½™çš„ç©ºè¡Œæˆ–ç©ºæ ¼
- [ ] è¡Œå®½ä¸è¶…è¿‡ 100 å­—ç¬¦

### å¯¼å…¥é¡ºåº
- [ ] å¯¼å…¥è¯­å¥æŒ‰è§„èŒƒæ’åºï¼ˆVue â†’ ç¬¬ä¸‰æ–¹ â†’ ç±»å‹ â†’ Store â†’ Service â†’ Utils â†’ ç»„ä»¶ï¼‰
- [ ] æ²¡æœ‰æœªä½¿ç”¨çš„å¯¼å…¥

---

## 2. TypeScript

### ç±»å‹å®‰å…¨
- [ ] æ²¡æœ‰ä½¿ç”¨ `any` ç±»å‹ï¼ˆå¿…è¦æ—¶ä½¿ç”¨ `unknown`ï¼‰
- [ ] Props å’Œ Events æœ‰å®Œæ•´çš„ç±»å‹å®šä¹‰
- [ ] å‡½æ•°æœ‰æ˜ç¡®çš„è¿”å›ç±»å‹
- [ ] å¼‚æ­¥å‡½æ•°è¿”å› `Promise<T>`

### ç±»å‹å®šä¹‰
- [ ] ä½¿ç”¨ interface å®šä¹‰å¯¹è±¡ç±»å‹
- [ ] ä½¿ç”¨ type å®šä¹‰è”åˆç±»å‹ã€å…ƒç»„ç­‰
- [ ] å¤æ‚ç±»å‹æå–åˆ°å•ç‹¬çš„ç±»å‹æ–‡ä»¶

### ç©ºå€¼å¤„ç†
- [ ] æ­£ç¡®å¤„ç† `null` å’Œ `undefined`
- [ ] ä½¿ç”¨å¯é€‰é“¾ `?.` å’Œ ç©ºå€¼åˆå¹¶ `??`
- [ ] åœ¨å¿…è¦æ—¶ä½¿ç”¨ç±»å‹å®ˆå«

---

## 3. Vue ç»„ä»¶

### ç»„ä»¶ç»“æ„
- [ ] ä½¿ç”¨ `<script setup lang="ts">`
- [ ] Props ä½¿ç”¨ TypeScript æ¥å£å®šä¹‰
- [ ] Emits æœ‰å®Œæ•´çš„ç±»å‹å®šä¹‰
- [ ] ç»„ä»¶é¡ºåºï¼štemplate â†’ script â†’ style

### å“åº”å¼æ•°æ®
- [ ] ä¼˜å…ˆä½¿ç”¨ `ref` è€Œé `reactive`
- [ ] æ²¡æœ‰è§£æ„å“åº”å¼å¯¹è±¡ï¼ˆæˆ–ä½¿ç”¨ `toRefs`ï¼‰
- [ ] è®¡ç®—å±æ€§é€»è¾‘ç®€æ´
- [ ] Watch ä½¿ç”¨åˆç†ï¼ˆè€ƒè™‘ä½¿ç”¨ computed æ›¿ä»£ï¼‰

### æ¨¡æ¿è¯­æ³•
- [ ] åˆ—è¡¨æ¸²æŸ“ä½¿ç”¨ `:key`ï¼ˆå€¼ä¸ºå”¯ä¸€æ ‡è¯†ï¼‰
- [ ] é¿å…åœ¨æ¨¡æ¿ä¸­å†™å¤æ‚è¡¨è¾¾å¼
- [ ] ä½¿ç”¨ `v-if`/`v-else` è€Œéä¸‰å…ƒè¿ç®—ç¬¦
- [ ] äº‹ä»¶å¤„ç†å™¨å‘½åæ¸…æ™°ï¼ˆhandle* å‰ç¼€ï¼‰

### Props éªŒè¯
- [ ] å¿…å¡« Props æ²¡æœ‰é»˜è®¤å€¼
- [ ] å¯é€‰ Props æœ‰åˆç†çš„é»˜è®¤å€¼
- [ ] Props æ–‡æ¡£æ³¨é‡Šå®Œæ•´

---

## 4. Store ä½¿ç”¨

### Store å®šä¹‰
- [ ] ä½¿ç”¨ Composition API é£æ ¼
- [ ] Stateã€Gettersã€Actions åˆ†ç±»æ¸…æ™°
- [ ] å¼‚æ­¥æ“ä½œåœ¨ Actions ä¸­
- [ ] Loading å’Œ Error çŠ¶æ€ç®¡ç†

### Store ä½¿ç”¨
- [ ] é€šè¿‡ `useXxxStore()` è®¿é—®
- [ ] è§£æ„æ—¶ä½¿ç”¨ `storeToRefs`
- [ ] Actions ç›´æ¥è°ƒç”¨ï¼ˆä¸éœ€è¦ storeToRefsï¼‰

---

## 5. Service è°ƒç”¨

### API è°ƒç”¨
- [ ] é€šè¿‡ `services.xxx` ç»Ÿä¸€è°ƒç”¨
- [ ] ä¸ç›´æ¥è°ƒç”¨ `invoke`
- [ ] é”™è¯¯å¤„ç†åœ¨ Service å±‚
- [ ] ç”¨æˆ·æç¤ºåœ¨ Service å±‚

### é”™è¯¯å¤„ç†
- [ ] ä½¿ç”¨ try-catch å¤„ç†å¼‚æ­¥é”™è¯¯
- [ ] é”™è¯¯æœ‰ç”¨æˆ·å‹å¥½çš„æç¤º
- [ ] é”™è¯¯æ—¥å¿—è®°å½•å®Œæ•´
- [ ] Loading çŠ¶æ€åœ¨ finally ä¸­é‡ç½®

---

## 6. æ€§èƒ½ä¼˜åŒ–

### ç»„ä»¶ä¼˜åŒ–
- [ ] å¤§ç»„ä»¶ä½¿ç”¨æ‡’åŠ è½½
- [ ] é•¿åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- [ ] é¢‘ç¹åˆ‡æ¢ä½¿ç”¨ `v-show` è€Œé `v-if`
- [ ] è®¡ç®—å±æ€§ç¼“å­˜å¤æ‚è®¡ç®—

### é˜²æŠ–èŠ‚æµ
- [ ] æœç´¢è¾“å…¥ä½¿ç”¨é˜²æŠ–
- [ ] æ»šåŠ¨äº‹ä»¶ä½¿ç”¨èŠ‚æµ
- [ ] çª—å£ resize ä½¿ç”¨èŠ‚æµ

### æ‰¹é‡æ“ä½œ
- [ ] ä½¿ç”¨å¹¶å‘æ§åˆ¶å·¥å…·
- [ ] æ˜¾ç¤ºè¿›åº¦æç¤º
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¯•

---

## 7. ä»£ç è´¨é‡

### å¯è¯»æ€§
- [ ] å‡½æ•°å’Œå˜é‡å‘½åæ¸…æ™°
- [ ] å¤æ‚é€»è¾‘æœ‰æ³¨é‡Šè¯´æ˜
- [ ] é­”æ³•æ•°å­—æå–ä¸ºå¸¸é‡
- [ ] å•ä¸ªå‡½æ•°ä¸è¶…è¿‡ 50 è¡Œ

### å¯ç»´æŠ¤æ€§
- [ ] æ²¡æœ‰é‡å¤ä»£ç ï¼ˆDRY åŸåˆ™ï¼‰
- [ ] å‡½æ•°èŒè´£å•ä¸€ï¼ˆSRP åŸåˆ™ï¼‰
- [ ] ä¾èµ–æ³¨å…¥è€Œéç¡¬ç¼–ç 
- [ ] æ˜“äºæµ‹è¯•

### å¯æ‰©å±•æ€§
- [ ] ä½¿ç”¨æ¥å£è€Œéå®ç°
- [ ] å¼€é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰
- [ ] ç»„ä»¶å’Œå‡½æ•°æ˜“äºå¤ç”¨

---

## 8. å®‰å…¨æ€§

### è¾“å…¥éªŒè¯
- [ ] ç”¨æˆ·è¾“å…¥æœ‰éªŒè¯
- [ ] XSS é˜²æŠ¤ï¼ˆé¿å… v-htmlï¼‰
- [ ] SQL æ³¨å…¥é˜²æŠ¤ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰

### æ•°æ®ä¿æŠ¤
- [ ] æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- [ ] API å¯†é’¥ä¸æš´éœ²åœ¨å‰ç«¯
- [ ] ç”¨æˆ·æƒé™æ£€æŸ¥

---

## 9. æµ‹è¯•

### å•å…ƒæµ‹è¯•
- [ ] æ ¸å¿ƒåŠŸèƒ½æœ‰å•å…ƒæµ‹è¯•
- [ ] æµ‹è¯•è¦†ç›–ç‡ > 80%
- [ ] è¾¹ç•Œæƒ…å†µæœ‰æµ‹è¯•
- [ ] é”™è¯¯æƒ…å†µæœ‰æµ‹è¯•

### ç»„ä»¶æµ‹è¯•
- [ ] ç»„ä»¶æ¸²æŸ“æ­£ç¡®
- [ ] Props ä¼ é€’æ­£ç¡®
- [ ] Events è§¦å‘æ­£ç¡®
- [ ] ç”¨æˆ·äº¤äº’æ­£å¸¸

---

## 10. æ–‡æ¡£

### ä»£ç æ³¨é‡Š
- [ ] å¤æ‚é€»è¾‘æœ‰æ³¨é‡Š
- [ ] å…¬å…± API æœ‰ JSDoc
- [ ] TODO/FIXME æœ‰è¯´æ˜
- [ ] æ³¨é‡Šå‡†ç¡®ä¸”åŠæ—¶æ›´æ–°

### æ–‡æ¡£æ›´æ–°
- [ ] README æ›´æ–°
- [ ] API æ–‡æ¡£æ›´æ–°
- [ ] å˜æ›´æ—¥å¿—æ›´æ–°

---

## 11. Git

### æäº¤è§„èŒƒ
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒï¼ˆtype(scope): subjectï¼‰
- [ ] æ¯æ¬¡æäº¤åªåšä¸€ä»¶äº‹
- [ ] æäº¤å‰è¿è¡Œè¿‡æµ‹è¯•
- [ ] æ²¡æœ‰æäº¤è°ƒè¯•ä»£ç 

### åˆ†æ”¯ç®¡ç†
- [ ] åˆ†æ”¯å‘½åè§„èŒƒ
- [ ] ä»æ­£ç¡®çš„åˆ†æ”¯åˆ›å»º
- [ ] åˆå¹¶å‰è§£å†³å†²çª

---

## 12. å…¶ä»–

### ä¾èµ–ç®¡ç†
- [ ] æ–°å¢ä¾èµ–æœ‰å¿…è¦æ€§
- [ ] ä¾èµ–ç‰ˆæœ¬åˆç†
- [ ] package.json æ›´æ–°

### å…¼å®¹æ€§
- [ ] æµè§ˆå™¨å…¼å®¹æ€§
- [ ] ä¸åŒå¹³å°æµ‹è¯•ï¼ˆWindows/Linux/macOSï¼‰
- [ ] ä¸åŒåˆ†è¾¨ç‡æµ‹è¯•

### æ— éšœç¢
- [ ] è¯­ä¹‰åŒ– HTML
- [ ] é”®ç›˜å¯è®¿é—®
- [ ] ARIA å±æ€§

---

## ä½¿ç”¨æ–¹æ³•

### ä»£ç æäº¤å‰

```bash
# 1. è‡ªæ£€
# æŒ‰ç…§æ­¤æ¸…å•è‡ªæ£€ä»£ç 

# 2. è¿è¡Œæ£€æŸ¥
pnpm check

# 3. è¿è¡Œæµ‹è¯•
pnpm test

# 4. æäº¤ä»£ç 
git add .
git commit -m "feat: your feature"
```

### Code Review æ—¶

1. **åŠŸèƒ½æ£€æŸ¥**: åŠŸèƒ½æ˜¯å¦æ­£ç¡®å®ç°ï¼Ÿ
2. **ä»£ç è´¨é‡**: ä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Ÿ
3. **æ€§èƒ½è€ƒè™‘**: æ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜ï¼Ÿ
4. **å®‰å…¨è€ƒè™‘**: æ˜¯å¦æœ‰å®‰å…¨éšæ‚£ï¼Ÿ
5. **æµ‹è¯•è¦†ç›–**: æµ‹è¯•æ˜¯å¦å……åˆ†ï¼Ÿ
6. **æ–‡æ¡£å®Œæ•´**: æ–‡æ¡£æ˜¯å¦æ›´æ–°ï¼Ÿ

### è¯„å®¡æ„è§åˆ†çº§

- **ğŸ”´ Blocker**: å¿…é¡»ä¿®å¤æ‰èƒ½åˆå¹¶
- **ğŸŸ¡ Major**: å»ºè®®ä¿®å¤ï¼ˆå½±å“è¾ƒå¤§ï¼‰
- **ğŸŸ¢ Minor**: å¯é€‰ä¿®å¤ï¼ˆå½±å“è¾ƒå°ï¼‰
- **ğŸ’¡ Suggestion**: å»ºè®®æ”¹è¿›ï¼ˆéå¿…é¡»ï¼‰

---

## ç¤ºä¾‹

### âœ… å¥½çš„ä»£ç 

```typescript
/**
 * æ‰¹é‡æ‰“å¼€æµè§ˆå™¨
 */
async function handleBatchOpen() {
  if (browserStore.selectedCount === 0) {
    window.$message?.warning('è¯·å…ˆé€‰æ‹©æµè§ˆå™¨')
    return
  }

  loading.value = true

  try {
    const result = await batchOpenBrowsers(
      browserStore.selectedIds,
      {
        concurrency: 5,
        onProgress: (completed, total) => {
          progress.value = Math.round((completed / total) * 100)
        }
      }
    )

    if (result.successCount === result.total) {
      window.$message?.success('æ‰€æœ‰æµè§ˆå™¨å·²æ‰“å¼€')
    } else {
      window.$message?.warning(
        `æ‰“å¼€å®Œæˆ: æˆåŠŸ ${result.successCount}, å¤±è´¥ ${result.failedCount}`
      )
    }

    await browserStore.loadBrowsers()
  } catch (error) {
    window.$message?.error('æ‰¹é‡æ‰“å¼€å¤±è´¥')
    console.error('Failed to batch open browsers:', error)
  } finally {
    loading.value = false
  }
}
```

### âŒ ä¸å¥½çš„ä»£ç 

```typescript
// æ²¡æœ‰ç±»å‹ï¼Œæ²¡æœ‰é”™è¯¯å¤„ç†ï¼Œæ²¡æœ‰ç”¨æˆ·æç¤º
async function open() {
  const r = await batchOpenBrowsers(browserStore.selectedIds)
  browserStore.loadBrowsers()
}
```

---

**æŒç»­æ”¹è¿›ä»£ç è´¨é‡ï¼Œæ‰“é€ é«˜è´¨é‡åº”ç”¨ï¼** ğŸ’ª
